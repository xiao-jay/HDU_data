#### OS里的简答题汇总

-----

**Q**（2018-2019-2 OS A T5）：

**（1）I/O的方式有哪几种？**

**（2）请简要描述每种控制方式的控制流程。**

**（3）同时对比各种方式的优缺点，以及适应的情形。**

**A：**（书P218-219）

**（1）**一共有四种，**程序直接控制，中断控制，DMA，通道**；

**（2）**程序控制：循环查询，直到设备可用；

​		  中断控制：设备可用向CPU中断，CPU暂停当前任务的执行，进行中断处理；

​		         DMA：设备和内存直接通过DMA进行数据传输；

​           通道控制：通过通道执行I/O指令进行数据传输；

**（3）**程序控制：**优点**：简单，不需硬件支持；**缺点**：一直占用CPU导致资源浪费；

​		  中断控制：**优点**：实现CPU和设备并行处理；**缺点**：需要硬件支持；

​		         DMA：**优点**：可以实现大量数据的高效传输；**缺点**：需要硬件支持；

​           通道控制：**优点**：CPU的干预更少了；**缺点**：需求一个独立的处理单元。

-----

**Q：若要预防死锁，可以采用什么样的资源分配算法？请给出一种并分析性能**

​     （2018-2019 OS A T2）

**A：**（书P129）

从**破坏占有且等待条件**和**破坏循环等待条件**的角度出发，考虑静态和按序资源分配：

静态：一开始就分配好全部资源。比较简单，但是资源利用率低；

按序：对系统中所有资源类型进行线性排序并编号。一定程度上比静态的利用率要高，但是系统增加资源的灵活性降低，而且可能进程不按照资源排列顺序使用资源，造成资源浪费。

----

**Q：一般为减少读盘次数，可以采取什么措施，请给出一种改进方法，并说明此时可以减少几次存取操作？**（2018-2019 OS A T5）

**A：**设置目录，索引节点

----

**Q：在虚拟分页系统中，页面调入策略对系统性能产生较大的影响。页面调入策略主要考虑两方面的事情：一是什么时候调入页面，二是从哪里调入页面。请你设计一种调页策略，希望达到以下目的：**

​	**（1）能尽量降低进程的缺页率；**

​	**（2）能尽量减少磁盘I/O的启动次数；**

​	**（3）尽量提高页面调入速度。**

**请详细说明你的调页策略的思路，并说明你的策略是如何满足上述性能要求的。**

**A：**

什么时候调入：可以采用请求调页策略+预调页策略相结合的方式。不提前调入，当发生缺页时将所缺的页面调入内存，保证调入的页面是要访问的，避免调入无用页面占据内存空间，提高内存利用率，并根据局部性原理，在调入所缺页面的同时，将该页面后续临近的若干页面同时调入内存，当进程之后要访问这些页面时就不会发生缺页了。

从哪里调入：①：可以引入缓冲的思想，对于淘汰页，可以放入缓冲，如果之后被访问到可以直接调出，减少I/O启动次数。②：全部放入对换区，所缺页面从对换区调入，提高速度。③：对换区不够的话，仅将可能会被修改的页面存放在对换区。

---

**Q：操作系统经历了从多道批处理到分时系统发展的过程，在这个发展过程中设计的硬件支持变化和发展有哪些，请详细分析。**

**A：**主要是**中断**和**页表**机制

中断包括时钟中断和其他类型的中断等；

以及为了实现虚拟存储器引入的页表机制。

---

**Q：在使用银行家算法解决死锁问题时，请分析该算法在实现中的局限性**

**A：**每次都要按照进程的最大资源需求进行安全性判断，可能会降低资源的利用率；且完全按照资源的可用情况进行，没有考虑进程之间的内在同步，不符合实际。

---

**Q：关于SPOOLING系统？**

**A：**

* 生成一个SPOOLING进程和一个SPOOLING目录，将打印的文件放入目录中，交给进程打印。
* 使用独享设备模拟共享设备，实现各个用户进程对独享设备依次使用
* 对每个设备，专门利用一道程序完成输入输出操作。

-----

**Q：**

**（1）段页式系统中可能产生哪些中断？**

**（2）若要考虑共享的权限控制，应该如何改造段表和页表？**

**（3）分析段页式管理对系统访存的性能影响，以及解决方法**

**A：**

**（1）**越界中断和缺页中断，越界中断又分为段号越界和页号越界；

**（2）**页表不便，段表加权限字段即可；

**（3）**三次访存才能完成一次有效内存访存，故应该使用快表。

---

**Q：普通中断和缺页中断的异同？**

**A：**

**相同：**都是中断，都需要进行操作系统的中断服务。

**不同点：**

* 普通中断是在执行完一条指令后响应；缺页中断是在指令执行期间响应
* 普通中断在执行完中断服务程序之后，从下一条指令继续执行；缺页中断在执行完之后，重新执行这条命令。

---

**Q：**某文件系统为一级目录结构，文件的数据一次性写入磁盘不再更改，可以多次创建新文件。回答如下问题并说明理由：

